!function(){"use strict";function a(a){}function b(){var a={matchCallback:void 0,nomatchCallback:void 0,routesPrefix:"",nestedStatesDelay:-1,hash:"",transitionHandler:["$state","$match","$toState","$toStateParams",function(a,b,c,d){a.go(c,d)}]},b={};this.config=function(b){return a=angular.extend({},a,b||{}),this},this.addRoute=function(a,c){var d;angular.isString(a)?(d={},d[a]={}):d=a;for(var e in d)angular.isUndefined(d[e].callback)&&c&&(d[e].callback=c);return angular.extend(b,d),this},this.$get=["$log","$q","$timeout","$window","$ionicPlatform","$state","$injector",function(c,d,e,f,g,h,i){function j(){g.ready(function(){for(var d in b){if(a.routesPrefix&&a.routesPrefix.length){var e=a.routesPrefix+d;b[e]=b[d],delete b[d],d=e}c.debug("Registering deepLink "+d+":",b[d])}f.cordova&&f.IonicDeeplink.route(b,k,l)})}function k(b){function c(b,c){return i.invoke(a.transitionHandler,null,{$toState:b,$toStateParams:c.$args,$match:c})}function f(b,g){function h(){f(b,g)}if(b&&b.length){var i=c(b.shift(),g);a.nestedStatesDelay<0&&angular.isDefined(i)?d.when(i).then(h):e(h,a.nestedStatesDelay)}}var g=b.$route.callback;if(angular.isString(g)){var h=[],j=b.$route.uiRouterParent;angular.isDefined(j)&&(h=angular.isArray(j)?[].concat(j):[j]),h.push(g),f(h,b)}else if(angular.isFunction(g)||angular.isArray(g))i.invoke(g,null,{$match:b});else if(angular.isDefined(g))throw new Error("Unexpected type for stateNameOrCallback. Expected string or function, found:",(typeof g));angular.isDefined(a.matchCallback)&&i.invoke(a.matchCallback,null,{$match:b})}function l(c){var d=c.$link,e=d.fragment;if(e&&e.length){var g,h,j=a.routesPrefix+e,l=!1;for(var m in b){h=b[m];var n=f.IonicDeeplink.routeMatch(m,j);if(n!==!1){l=!0,g=angular.extend({},n);break}}if(l)return k({$route:h,$args:g,$link:d})}angular.isDefined(a.nomatchCallback)&&i.invoke(a.nomatchCallback,null,{$match:c})}var m={};return j(),m}]}function c(a,b){a.decorator("data",function(a,c){var d=c(a);if(d&&angular.isDefined(d.deepLink)){var e=a.name,f=(a.parent.url||"").toString(),g=f+(a.url||"");console.debug("Deep link for ui.router state "+e);var h=d.deepLink;if(angular.isString(h))b.addRoute(h,e);else if(h===!0)b.addRoute(g,e);else if(angular.isArray(h)||angular.isFunction(h))b.addRoute(g,h);else if(angular.isObject(h)){var i={};i[g]=angular.extend({},h,{callback:e}),b.addRoute(i)}else console.warn("Unknown deep link configuration for state "+e,h)}return d})}var d=angular.module("mfw-ionic.deep-links",["ionic","ui.router"]);d.run(a),a.$inject=["$mfwiLinks"],d.provider("$mfwiLinks",b),b.$inject=[],d.config(c),c.$inject=["$stateProvider","$mfwiLinksProvider"]}();
//# sourceMappingURL=mfw-ionic-deep-links.service.min.js.map